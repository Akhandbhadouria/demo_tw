<!-- <h2>Chat Room</h2>

<div id="chat-log" style="height:300px; overflow-y:auto; border:1px solid #ccc;">
    {% for msg in messages %}
    <p><b>{{ msg.sender.username }}</b>: {{ msg.text }}</p>
    {% endfor %}
</div>

<input id="chat-input" type="text" placeholder="Type..." />
<button id="chat-send">Send</button>

<script>
    const roomId = "{{ room.id }}";
    const username = "{{ request.user.username }}";

    const socket = new WebSocket(
        "ws://" + window.location.host + "/ws/chat/" + roomId + "/"
    );

    socket.onmessage = (e) => {
        const data = JSON.parse(e.data);
        const log = document.getElementById("chat-log");
        log.innerHTML += `<p><b>${data.username}</b>: ${data.message}</p>`;
        log.scrollTop = log.scrollHeight;
    };

    document.getElementById("chat-send").onclick = () => {
        const input = document.getElementById("chat-input");
        socket.send(JSON.stringify({
            "message": input.value
            "username": username
        }));
        input.value = "";
    };
</script> -->
